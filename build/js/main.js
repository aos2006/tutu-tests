'use strict';

let checkSequence = arr => {
  let pairs = 0;
  const iter = list => {
    if (!list.length) return pairs;
    const newList = list.reduce((prev, item, i) => {
      if (`${prev}${item}` === '<>' || `${prev}${item}` === '[]' || `${prev}${item}` === '{}' || `${prev}${item}` === '()') {
        ++pairs;
        list.splice(--i, 2);
        return iter(list, 0);
      }
      return item;
    });

    return pairs;
  };

  return iter(arr);
};

const checkSyntax = (str, excludedBrackets = []) => {
  let bracketsList = new Map([['(', { car: ')', cdr: '(' }], [')', { car: '(', cdr: ')' }], ['[', { car: ']', cdr: '[' }], [']', { car: '[', cdr: ']' }], ['{', { car: '}', cdr: '{' }], ['}', { car: '{', cdr: '}' }], ['<', { car: '>', cdr: '<' }], ['>', { car: '<', cdr: '>' }]]);
  excludedBrackets.length > 0 ? excludedBrackets.forEach(item => {
    bracketsList.delete(bracketsList.get(item).car);
    bracketsList.delete(item);
  }) : null;
  let sortedStr = str.split('').filter(char => bracketsList.has(char));
  return !sortedStr.length ? 0 : sortedStr.length / checkSequence(sortedStr) !== 2 ? 1 : 0;
};

console.log(checkSyntax("---()[{{{{{{}}}}}}](){----") === 1);
console.log(checkSyntax("") === 0);
console.log(checkSyntax("before ( middle []) after ") === 0);
console.log(checkSyntax("( {} [] <> ){(((])))}") === 1);
console.log(checkSyntax(") (", ['(']) === 0);
console.log(checkSyntax("} {") === 1);
console.log(checkSyntax("} {", ['{']) === 0);
console.log(checkSyntax("<(   >)") === 1);
console.log(checkSyntax("<(   >)", ['(']) === 0);
console.log(checkSyntax("(  [  <[]>  ()  ]  <>  )") === 0);
console.log(checkSyntax("(  [  <>  ()  ]  <>  )", ['<', '[', '(']) === 0);
console.log(checkSyntax("   (      [)") === 1);
console.log(checkSyntax("   (      [)", ['[']) === 0);
'use strict';

let dsCount = (...args) => {
  const [str, ...rest] = args;
  const concatedSubstings = rest.join('');
  const iter = (count, position, curr, substring) => {
    if (curr.indexOf(substring, position) === -1) return count;

    let newPosition = curr.indexOf(substring, position);
    return iter(++count, ++newPosition, curr, substring);
  };

  return iter(0, 0, str.toLowerCase(), concatedSubstings.toLowerCase());
};

try {
  test(dsCount, ['ab___ab__', 'a', 'b'], 2);
  test(dsCount, ['___cd____', 'c', 'd'], 1);
  test(dsCount, ['de_______', 'd', 'e'], 1);
  test(dsCount, ['12_12__12', '1', '2'], 3);
  test(dsCount, ['_ba______', 'a', 'b'], 0);
  test(dsCount, ['_a__b____', 'a', 'b'], 0);
  test(dsCount, ['-ab-аb-ab', 'a', 'b'], 2);
  test(dsCount, ['aAa', 'a', 'a'], 2);
  console.info("Congratulations! All tests success passed.");
} catch (e) {
  console.error(e);
}

// Простая функция тестирования

function test(call, args, count, n) {
  let r = call.apply(n, args) === count;
  console.assert(r, `Finded items count: ${count}`);
  if (!r) throw "Test failed!";
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrU3ludGF4LmpzIiwiZHNDb3VudC5qcyJdLCJuYW1lcyI6WyJjaGVja1NlcXVlbmNlIiwiYXJyIiwicGFpcnMiLCJpdGVyIiwibGlzdCIsImxlbmd0aCIsIm5ld0xpc3QiLCJyZWR1Y2UiLCJwcmV2IiwiaXRlbSIsImkiLCJzcGxpY2UiLCJjaGVja1N5bnRheCIsInN0ciIsImV4Y2x1ZGVkQnJhY2tldHMiLCJicmFja2V0c0xpc3QiLCJNYXAiLCJjYXIiLCJjZHIiLCJmb3JFYWNoIiwiZGVsZXRlIiwiZ2V0Iiwic29ydGVkU3RyIiwic3BsaXQiLCJmaWx0ZXIiLCJjaGFyIiwiaGFzIiwiY29uc29sZSIsImxvZyIsImRzQ291bnQiLCJhcmdzIiwicmVzdCIsImNvbmNhdGVkU3Vic3RpbmdzIiwiam9pbiIsImNvdW50IiwicG9zaXRpb24iLCJjdXJyIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsIm5ld1Bvc2l0aW9uIiwidG9Mb3dlckNhc2UiLCJ0ZXN0IiwiaW5mbyIsImUiLCJlcnJvciIsImNhbGwiLCJuIiwiciIsImFwcGx5IiwiYXNzZXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxnQkFBaUJDLEdBQUQsSUFBUztBQUN6QixNQUFJQyxRQUFRLENBQVo7QUFDQSxRQUFNQyxPQUFRQyxJQUFELElBQVU7QUFDckIsUUFBSSxDQUFDQSxLQUFLQyxNQUFWLEVBQWtCLE9BQU9ILEtBQVA7QUFDbEIsVUFBTUksVUFBVUYsS0FBS0csTUFBTCxDQUFZLENBQUNDLElBQUQsRUFBT0MsSUFBUCxFQUFhQyxDQUFiLEtBQW1CO0FBQzdDLFVBQ0ssR0FBRUYsSUFBSyxHQUFFQyxJQUFLLEVBQWYsS0FBcUIsSUFBckIsSUFDQyxHQUFFRCxJQUFLLEdBQUVDLElBQUssRUFBZixLQUFxQixJQURyQixJQUVDLEdBQUVELElBQUssR0FBRUMsSUFBSyxFQUFmLEtBQXFCLElBRnJCLElBR0MsR0FBRUQsSUFBSyxHQUFFQyxJQUFLLEVBQWYsS0FBcUIsSUFKekIs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QW1CLEdBQW5CLENBQWQsRUFBdUMsQ0FBdkM7QUFDQVksT0FBS1osT0FBTCxFQUFjLENBQUMsV0FBRCxFQUFjLEdBQWQsRUFBbUIsR0FBbkIsQ0FBZCxFQUF1QyxDQUF2QztBQUNBWSxPQUFLWixPQUFMLEVBQWMsQ0FBQyxXQUFELEVBQWMsR0FBZCxFQUFtQixHQUFuQixDQUFkLEVBQXVDLENBQXZDO0FBQ0FZLE9BQUtaLE9BQUwsRUFBYyxDQUFDLFdBQUQsRUFBYyxHQUFkLEVBQW1CLEdBQW5CLENBQWQsRUFBdUMsQ0FBdkM7QUFDQVksT0FBS1osT0FBTCxFQUFjLENBQUMsV0FBRCxFQUFjLEdBQWQsRUFBbUIsR0FBbkIsQ0FBZCxFQUF1QyxDQUF2QztBQUNBWSxPQUFLWixPQUFMLEVBQWMsQ0FBQyxLQUFELEVBQVEsR0FBUixFQUFhLEdBQWIsQ0FBZCxFQUFpQyxDQUFqQztBQUNBRixVQUFRZSxJQUFSLENBQWEsNENBQWI7QUFDRCxDQVZELENBVUUsT0FBTUMsQ0FBTixFQUFTO0FBQ1RoQixVQUFRaUIsS0FBUixDQUFjRCxDQUFkO0FBQ0Q7O0FBRUQ7O0FBRUEsU0FBU0YsSUFBVCxDQUFjSSxJQUFkLEVBQW9CZixJQUFwQixFQUEwQkksS0FBMUIsRUFBaUNZLENBQWpDLEVBQW9DO0FBQ2xDLE1BQUlDLElBQUtGLEtBQUtHLEtBQUwsQ0FBV0YsQ0FBWCxFQUFjaEIsSUFBZCxNQUF3QkksS0FBakM7QUFDQVAsVUFBUXNCLE1BQVIsQ0FBZUYsQ0FBZixFQUFtQix1QkFBc0JiLEtBQU0sRUFBL0M7QUFDQSxNQUFJLENBQUNhLENBQUwsRUFBUSxNQUFNLGNBQU47QUFDVCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xubGV0IGNoZWNrU2VxdWVuY2UgPSAoYXJyKSA9PiB7XG4gICAgbGV0IHBhaXJzID0gMDtcbiAgICBjb25zdCBpdGVyID0gKGxpc3QpID0+IHtcbiAgICAgIGlmICghbGlzdC5sZW5ndGgpIHJldHVybiBwYWlycztcbiAgICAgIGNvbnN0IG5ld0xpc3QgPSBsaXN0LnJlZHVjZSgocHJldiwgaXRlbSwgaSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBgJHtwcmV2fSR7aXRlbX1gID09PSAnPD4nIHx8XG4gICAgICAgICAgICBgJHtwcmV2fSR7aXRlbX1gID09PSAnW10nIHx8XG4gICAgICAgICAgICBgJHtwcmV2fSR7aXRlbX1gID09PSAne30nIHx8XG4gICAgICAgICAgICBgJHtwcmV2fSR7aXRlbX1gID09PSAnKCknXG4gICAgICAgICkge1xuICAgICAgICAgICsrcGFpcnM7XG4gICAgICAgICAgbGlzdC5zcGxpY2UoLS1pLCAyKTtcbiAgICAgICAgICByZXR1cm4gaXRlcihsaXN0LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcGFpcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXIoYXJyKTtcbn1cblxuY29uc3QgY2hlY2tTeW50YXggPSAoc3RyLCBleGNsdWRlZEJyYWNrZXRzID0gW10pID0+IHtcbiAgbGV0IGJyYWNrZXRzTGlzdCA9IG5ldyBNYXAoXG4gICAgICBbXG4gICAgICAgWycoJywge2NhcjogJyknLCBjZHI6ICcoJ31dLFxuICAgICAgIFsnKScsIHtjYXI6ICcoJywgY2RyOiAnKSd9XSxcbiAgICAgICBbJ1snLCB7Y2FyOiAnXScsIGNkcjogJ1snfV0sXG4gICAgICAgWyddJywge2NhcjogJ1snLCBjZHI6ICddJ31dLFxuICAgICAgIFsneycsIHtjYXI6ICd9JywgY2RyOiAneyd9XSxcbiAgICAgICBbJ30nLCB7Y2FyOiAneycsIGNkcjogJ30nfV0sXG4gICAgICAgWyc8Jywge2NhcjogJz4nLCBjZHI6ICc8J31dLFxuICAgICAgIFsnPicsIHtjYXI6ICc8JywgY2RyOiAnPid9XSxcbiAgICAgIF1cbiAgKTtcbiAgZXhjbHVkZWRCcmFja2V0cy5sZW5ndGggPiAwID8gZXhjbHVkZWRCcmFja2V0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGJyYWNrZXRzTGlzdC5kZWxldGUoYnJhY2tldHNMaXN0LmdldChpdGVtKS5jYXIpO1xuICAgIGJyYWNrZXRzTGlzdC5kZWxldGUoaXRlbSk7XG4gIH0pIDogbnVsbDtcbiAgbGV0IHNvcnRlZFN0ciA9IHN0ci5zcGxpdCgnJykuZmlsdGVyKGNoYXIgPT4gYnJhY2tldHNMaXN0LmhhcyhjaGFyKSk7XG4gIHJldHVybiAhc29ydGVkU3RyLmxlbmd0aCA/IDAgOiBzb3J0ZWRTdHIubGVuZ3RoIC8gY2hlY2tTZXF1ZW5jZShzb3J0ZWRTdHIpICE9PSAyID8gMSA6IDA7XG59XG5cbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCItLS0oKVt7e3t7e3t9fX19fX1dKCl7LS0tLVwiKSA9PT0gMSk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwiXCIpID09PSAwKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCJiZWZvcmUgKCBtaWRkbGUgW10pIGFmdGVyIFwiKSA9PT0gMCk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwiKCB7fSBbXSA8PiApeygoKF0pKSl9XCIpID09PSAxKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCIpIChcIiwgWycoJ10pID09PSAwKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCJ9IHtcIikgPT09IDEpO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIn0ge1wiLCBbJ3snXSkgPT09IDApO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIjwoICAgPilcIikgPT09IDEpO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIjwoICAgPilcIiwgWycoJ10pID09PSAwKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCIoICBbICA8W10+ICAoKSAgXSAgPD4gIClcIikgPT09IDApO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIiggIFsgIDw+ICAoKSAgXSAgPD4gIClcIiwgWyc8JywgJ1snLCAnKCddKSA9PT0gMCk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwiICAgKCAgICAgIFspXCIpID09PSAxKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCIgICAoICAgICAgWylcIiwgWydbJ10pID09PSAwKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xubGV0IGRzQ291bnQgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBbc3RyLCAuLi5yZXN0XSA9IGFyZ3M7XG4gIGNvbnN0IGNvbmNhdGVkU3Vic3RpbmdzID0gcmVzdC5qb2luKCcnKTtcbiAgY29uc3QgaXRlciA9IChjb3VudCwgcG9zaXRpb24sIGN1cnIsIHN1YnN0cmluZykgPT4ge1xuICAgICAgaWYoY3Vyci5pbmRleE9mKHN1YnN0cmluZywgcG9zaXRpb24pID09PSAtMSkgcmV0dXJuIGNvdW50O1xuXG4gICAgICBsZXQgbmV3UG9zaXRpb24gPSBjdXJyLmluZGV4T2Yoc3Vic3RyaW5nLCBwb3NpdGlvbik7XG4gICAgICByZXR1cm4gaXRlcigrK2NvdW50LCArK25ld1Bvc2l0aW9uLCBjdXJyLCBzdWJzdHJpbmcpO1xuICB9XG5cbiAgcmV0dXJuIGl0ZXIoMCwgMCwgc3RyLnRvTG93ZXJDYXNlKCksIGNvbmNhdGVkU3Vic3RpbmdzLnRvTG93ZXJDYXNlKCkpXG5cblxufVxuXG50cnkge1xuICB0ZXN0KGRzQ291bnQsIFsnYWJfX19hYl9fJywgJ2EnLCAnYiddLCAyKTtcbiAgdGVzdChkc0NvdW50LCBbJ19fX2NkX19fXycsICdjJywgJ2QnXSwgMSk7XG4gIHRlc3QoZHNDb3VudCwgWydkZV9fX19fX18nLCAnZCcsICdlJ10sIDEpO1xuICB0ZXN0KGRzQ291bnQsIFsnMTJfMTJfXzEyJywgJzEnLCAnMiddLCAzKTtcbiAgdGVzdChkc0NvdW50LCBbJ19iYV9fX19fXycsICdhJywgJ2InXSwgMCk7XG4gIHRlc3QoZHNDb3VudCwgWydfYV9fYl9fX18nLCAnYScsICdiJ10sIDApO1xuICB0ZXN0KGRzQ291bnQsIFsnLWFiLdCwYi1hYicsICdhJywgJ2InXSwgMik7XG4gIHRlc3QoZHNDb3VudCwgWydhQWEnLCAnYScsICdhJ10sIDIpO1xuICBjb25zb2xlLmluZm8oXCJDb25ncmF0dWxhdGlvbnMhIEFsbCB0ZXN0cyBzdWNjZXNzIHBhc3NlZC5cIik7XG59IGNhdGNoKGUpIHtcbiAgY29uc29sZS5lcnJvcihlKTtcbn1cblxuLy8g0J/RgNC+0YHRgtCw0Y8g0YTRg9C90LrRhtC40Y8g0YLQtdGB0YLQuNGA0L7QstCw0L3QuNGPXG5cbmZ1bmN0aW9uIHRlc3QoY2FsbCwgYXJncywgY291bnQsIG4pIHtcbiAgbGV0IHIgPSAoY2FsbC5hcHBseShuLCBhcmdzKSA9PT0gY291bnQpO1xuICBjb25zb2xlLmFzc2VydChyLCBgRmluZGVkIGl0ZW1zIGNvdW50OiAke2NvdW50fWApO1xuICBpZiAoIXIpIHRocm93IFwiVGVzdCBmYWlsZWQhXCI7XG59XG5cbiJdfQ==
