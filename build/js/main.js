"use strict";function test(e,c,t,n){var o=e.apply(n,c)===t;if(console.assert(o,"Finded items count: "+t),!o)throw"Test failed!"}var checkSequence=function(e){var c=function t(e){if(0===e.length)return 0;if(1===e.length)return 1;var c=e.reduce(function(c,t,n){return c+t==="<>"||c+t==="[]"||c+t==="{}"||c+t==="()"?2===e.length?(e.splice(0,2),e):(e.splice(n-1,2),e):t},e[0]);return t(c)};return c(e)},checkSyntax=function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=new Map([["(",{car:")",cdr:"("}],[")",{car:"(",cdr:")"}],["[",{car:"]",cdr:"["}],["]",{car:"[",cdr:"]"}],["{",{car:"}",cdr:"{"}],["}",{car:"{",cdr:"}"}],["<",{car:">",cdr:"<"}],[">",{car:"<",cdr:">"}]]);c.length>0?c.forEach(function(e){t["delete"](t.get(e).car),t["delete"](e)}):null;var n=e.split("").filter(function(e){return t.has(e)});return checkSequence(n)};console.log(0===checkSyntax("---(++++)----")),console.log(0===checkSyntax("")),console.log(0===checkSyntax("before ( middle []) after ")),console.log(1===checkSyntax(") (")),console.log(0===checkSyntax(") (",["("])),console.log(1===checkSyntax("} {")),console.log(0===checkSyntax("} {",["{"])),console.log(1===checkSyntax("<(   >)")),console.log(0===checkSyntax("<(   >)",["("])),console.log(0===checkSyntax("(  [  <>  ()  ]  <>  )")),console.log(0===checkSyntax("(  [  <>  ()  ]  <>  )",["<","[","("])),console.log(1===checkSyntax("   (      [)")),console.log(0===checkSyntax("   (      [)",["["]));var dsCount=function(){for(var e=arguments.length,c=Array(e),t=0;t<e;t++)c[t]=arguments[t];var n=c[0],o=c.slice(1),r=o.join(""),a=function s(e,c,t,n){if(t.indexOf(n,c)===-1)return e;var o=t.indexOf(n,c);return s(++e,++o,t,n)};return a(0,0,n.toLowerCase(),r.toLowerCase())};try{test(dsCount,["ab___ab__","a","b"],2),test(dsCount,["___cd____","c","d"],1),test(dsCount,["de_______","d","e"],1),test(dsCount,["12_12__12","1","2"],3),test(dsCount,["_ba______","a","b"],0),test(dsCount,["_a__b____","a","b"],0),test(dsCount,["-ab-Ð°b-ab","a","b"],2),test(dsCount,["aAa","a","a"],2),console.info("Congratulations! All tests success passed.")}catch(e){console.error(e)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrU3ludGF4LmpzIiwiZHNDb3VudC5qcyJdLCJuYW1lcyI6WyJ0ZXN0IiwiY2FsbCIsImFyZ3MiLCJjb3VudCIsIm4iLCJyIiwiYXBwbHkiLCJjb25zb2xlIiwiYXNzZXJ0IiwiY2hlY2tTZXF1ZW5jZSIsImFyciIsIml0ZXIiLCJsaXN0IiwibGVuZ3RoIiwibmV3TGlzdCIsInJlZHVjZSIsInByZXYiLCJpdGVtIiwiaSIsInNwbGljZSIsImNoZWNrU3ludGF4Iiwic3RyIiwiZXhjbHVkZWRCcmFja2V0cyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImJyYWNrZXRzTGlzdCIsIk1hcCIsImNhciIsImNkciIsImZvckVhY2giLCJnZXQiLCJzb3J0ZWRTdHIiLCJzcGxpdCIsImZpbHRlciIsImNoYXIiLCJoYXMiLCJsb2ciLCJkc0NvdW50IiwiX2xlbiIsIkFycmF5IiwiX2tleSIsInJlc3QiLCJzbGljZSIsImNvbmNhdGVkU3Vic3RpbmdzIiwiam9pbiIsInBvc2l0aW9uIiwiY3VyciIsInN1YnN0cmluZyIsImluZGV4T2YiLCJuZXdQb3NpdGlvbiIsInRvTG93ZXJDYXNlIiwiaW5mbyIsImUiLCJlcnJvciJdLCJtYXBwaW5ncyI6IkFBQUEsWUNnQ0EsU0FBU0EsTUFBS0MsRUFBTUMsRUFBTUMsRUFBT0MsR0FDL0IsR0FBSUMsR0FBS0osRUFBS0ssTUFBTUYsRUFBR0YsS0FBVUMsQ0FFakMsSUFEQUksUUFBUUMsT0FBT0gsRUFBZix1QkFBeUNGLElBQ3BDRSxFQUFHLEtBQU0sZURsQ2hCLEdBQUlJLGVBQWdCLFNBQUNDLEdBQ2pCLEdBQU1DLEdBQU8sUUFBUEEsR0FBUUMsR0FDWixHQUFvQixJQUFoQkEsRUFBS0MsT0FBYyxNQUFPLEVBQzlCLElBQW9CLElBQWhCRCxFQUFLQyxPQUFjLE1BQU8sRUFDOUIsSUFBTUMsR0FBVUYsRUFBS0csT0FBTyxTQUFDQyxFQUFNQyxFQUFNQyxHQUN2QyxNQUNJRixHQUFPQyxJQUFTLE1BQ2hCRCxFQUFPQyxJQUFT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WUFBYSxJQUFLLEtBQU0sR0FDdkNyQyxLQUFLcUMsU0FBVSxNQUFPLElBQUssS0FBTSxHQUNqQzlCLFFBQVE0QyxLQUFLLDhDQUNiLE1BQU1DLEdBQ043QyxRQUFROEMsTUFBTUQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmxldCBjaGVja1NlcXVlbmNlID0gKGFycikgPT4ge1xuICAgIGNvbnN0IGl0ZXIgPSAobGlzdCkgPT4ge1xuICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkgcmV0dXJuIDE7XG4gICAgICBjb25zdCBuZXdMaXN0ID0gbGlzdC5yZWR1Y2UoKHByZXYsIGl0ZW0sIGkpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldiArIGl0ZW0gPT09ICc8PicgfHxcbiAgICAgICAgICAgIHByZXYgKyBpdGVtID09PSAnW10nIHx8XG4gICAgICAgICAgICBwcmV2ICsgaXRlbSA9PT0gJ3t9JyB8fFxuICAgICAgICAgICAgcHJldiArIGl0ZW0gPT09ICcoKSdcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBsaXN0LnNwbGljZSgwLCAyKTtcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsaXN0LnNwbGljZShpIC0gMSwgMilcbiAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSwgbGlzdFswXSk7XG5cbiAgICAgIHJldHVybiBpdGVyKG5ld0xpc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyKGFycilcbn1cblxuY29uc3QgY2hlY2tTeW50YXggPSAoc3RyLCBleGNsdWRlZEJyYWNrZXRzID0gW10pID0+IHtcbiAgbGV0IGJyYWNrZXRzTGlzdCA9IG5ldyBNYXAoXG4gICAgICBbXG4gICAgICAgWycoJywge2NhcjogJyknLCBjZHI6ICcoJ31dLFxuICAgICAgIFsnKScsIHtjYXI6ICcoJywgY2RyOiAnKSd9XSxcbiAgICAgICBbJ1snLCB7Y2FyOiAnXScsIGNkcjogJ1snfV0sXG4gICAgICAgWyddJywge2NhcjogJ1snLCBjZHI6ICddJ31dLFxuICAgICAgIFsneycsIHtjYXI6ICd9JywgY2RyOiAneyd9XSxcbiAgICAgICBbJ30nLCB7Y2FyOiAneycsIGNkcjogJ30nfV0sXG4gICAgICAgWyc8Jywge2NhcjogJz4nLCBjZHI6ICc8J31dLFxuICAgICAgIFsnPicsIHtjYXI6ICc8JywgY2RyOiAnPid9XSxcbiAgICAgIF1cbiAgKTtcbiAgZXhjbHVkZWRCcmFja2V0cy5sZW5ndGggPiAwID8gZXhjbHVkZWRCcmFja2V0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGJyYWNrZXRzTGlzdC5kZWxldGUoYnJhY2tldHNMaXN0LmdldChpdGVtKS5jYXIpO1xuICAgIGJyYWNrZXRzTGlzdC5kZWxldGUoaXRlbSk7XG4gIH0pIDogbnVsbDtcbiAgbGV0IHNvcnRlZFN0ciA9IHN0ci5zcGxpdCgnJykuZmlsdGVyKGNoYXIgPT4gYnJhY2tldHNMaXN0LmhhcyhjaGFyKSk7XG4gIHJldHVybiBjaGVja1NlcXVlbmNlKHNvcnRlZFN0cik7XG59XG5cbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCItLS0oKysrKyktLS0tXCIpID09PSAwKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCJcIikgPT09IDApO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcImJlZm9yZSAoIG1pZGRsZSBbXSkgYWZ0ZXIgXCIpID09PSAwKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCIpIChcIikgPT09IDEpO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIikgKFwiLCBbJygnXSkgPT09IDApO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIn0ge1wiKSA9PT0gMSk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwifSB7XCIsIFsneyddKSA9PT0gMCk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwiPCggICA+KVwiKSA9PT0gMSk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwiPCggICA+KVwiLCBbJygnXSkgPT09IDApO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIiggIFsgIDw+ICAoKSAgXSAgPD4gIClcIikgPT09IDApO1xuY29uc29sZS5sb2cgKGNoZWNrU3ludGF4IChcIiggIFsgIDw+ICAoKSAgXSAgPD4gIClcIiwgWyc8JywgJ1snLCAnKCddKSA9PT0gMCk7XG5jb25zb2xlLmxvZyAoY2hlY2tTeW50YXggKFwiICAgKCAgICAgIFspXCIpID09PSAxKTtcbmNvbnNvbGUubG9nIChjaGVja1N5bnRheCAoXCIgICAoICAgICAgWylcIiwgWydbJ10pID09PSAwKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xubGV0IGRzQ291bnQgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBbc3RyLCAuLi5yZXN0XSA9IGFyZ3M7XG4gIGNvbnN0IGNvbmNhdGVkU3Vic3RpbmdzID0gcmVzdC5qb2luKCcnKTtcbiAgY29uc3QgaXRlciA9IChjb3VudCwgcG9zaXRpb24sIGN1cnIsIHN1YnN0cmluZykgPT4ge1xuICAgICAgaWYoY3Vyci5pbmRleE9mKHN1YnN0cmluZywgcG9zaXRpb24pID09PSAtMSkgcmV0dXJuIGNvdW50O1xuXG4gICAgICBsZXQgbmV3UG9zaXRpb24gPSBjdXJyLmluZGV4T2Yoc3Vic3RyaW5nLCBwb3NpdGlvbik7XG4gICAgICByZXR1cm4gaXRlcigrK2NvdW50LCArK25ld1Bvc2l0aW9uLCBjdXJyLCBzdWJzdHJpbmcpO1xuICB9XG5cbiAgcmV0dXJuIGl0ZXIoMCwgMCwgc3RyLnRvTG93ZXJDYXNlKCksIGNvbmNhdGVkU3Vic3RpbmdzLnRvTG93ZXJDYXNlKCkpXG5cblxufVxuXG50cnkge1xuICB0ZXN0KGRzQ291bnQsIFsnYWJfX19hYl9fJywgJ2EnLCAnYiddLCAyKTtcbiAgdGVzdChkc0NvdW50LCBbJ19fX2NkX19fXycsICdjJywgJ2QnXSwgMSk7XG4gIHRlc3QoZHNDb3VudCwgWydkZV9fX19fX18nLCAnZCcsICdlJ10sIDEpO1xuICB0ZXN0KGRzQ291bnQsIFsnMTJfMTJfXzEyJywgJzEnLCAnMiddLCAzKTtcbiAgdGVzdChkc0NvdW50LCBbJ19iYV9fX19fXycsICdhJywgJ2InXSwgMCk7XG4gIHRlc3QoZHNDb3VudCwgWydfYV9fYl9fX18nLCAnYScsICdiJ10sIDApO1xuICB0ZXN0KGRzQ291bnQsIFsnLWFiLdCwYi1hYicsICdhJywgJ2InXSwgMik7XG4gIHRlc3QoZHNDb3VudCwgWydhQWEnLCAnYScsICdhJ10sIDIpO1xuICBjb25zb2xlLmluZm8oXCJDb25ncmF0dWxhdGlvbnMhIEFsbCB0ZXN0cyBzdWNjZXNzIHBhc3NlZC5cIik7XG59IGNhdGNoKGUpIHtcbiAgY29uc29sZS5lcnJvcihlKTtcbn1cblxuLy8g0J/RgNC+0YHRgtCw0Y8g0YTRg9C90LrRhtC40Y8g0YLQtdGB0YLQuNGA0L7QstCw0L3QuNGPXG5cbmZ1bmN0aW9uIHRlc3QoY2FsbCwgYXJncywgY291bnQsIG4pIHtcbiAgbGV0IHIgPSAoY2FsbC5hcHBseShuLCBhcmdzKSA9PT0gY291bnQpO1xuICBjb25zb2xlLmFzc2VydChyLCBgRmluZGVkIGl0ZW1zIGNvdW50OiAke2NvdW50fWApO1xuICBpZiAoIXIpIHRocm93IFwiVGVzdCBmYWlsZWQhXCI7XG59XG5cbiJdfQ==
